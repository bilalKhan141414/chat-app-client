[{"C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\index.js":"1","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\App.js":"2","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\Join.js":"3","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\Chat.js":"4","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\ChatUi\\ChatUi.js":"5","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\ChatUi\\Avatar.js":"6","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\ChatUi\\Message.js":"7","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\shared\\custom-hooks\\useMessageEncryption.js":"8"},{"size":246,"mtime":1612623390970,"results":"9","hashOfConfig":"10"},{"size":372,"mtime":1612102734102,"results":"11","hashOfConfig":"10"},{"size":702,"mtime":1612107799633,"results":"12","hashOfConfig":"10"},{"size":2480,"mtime":1613167024354,"results":"13","hashOfConfig":"10"},{"size":1801,"mtime":1612727067705,"results":"14","hashOfConfig":"10"},{"size":425,"mtime":1612641230450,"results":"15","hashOfConfig":"10"},{"size":628,"mtime":1612643219566,"results":"16","hashOfConfig":"10"},{"size":486,"mtime":1613167053527,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1i3444g",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\index.js",[],["37","38"],"C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\App.js",[],"C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\Join.js",[],"C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\Chat.js",["39","40","41"],"import React, {useState, useEffect} from 'react';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\nimport ChatUi from './ChatUi/ChatUi';\r\nimport useMessageEncryption from './../shared/custom-hooks/useMessageEncryption';\r\n// localStorage.debug = '*';\r\n\r\nlet socket;\r\nexport default function Chat({location}) {\r\n    const [name, setName] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n    const [messages, setMessages] = useState([]);\r\n    const [message, setMessage] = useState(\"\");\r\n    const {encode, decode} = useMessageEncryption();\r\n    // const ENDPOINT = 'https://chat-app-server-node.herokuapp.com/'\r\n    const ENDPOINT = process.env.REACT_APP_URL || 'https://chat-app-server-node.herokuapp.com/'\r\n    useEffect(() => {\r\n        const {name, room} = queryString.parse(location.search);\r\n        \r\n        socket =  io(ENDPOINT);\r\n\r\n        setName(name);\r\n        setRoom(room);\r\n\r\n        socket.emit('join', {name, room}, (resp)=>{\r\n            // console.log(resp);\r\n        });\r\n\r\n        return () => {\r\n            socket.emit('diconnect');\r\n            socket.off();\r\n        }\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n        socket.on(\"message\", (message)=>{\r\n            message = decode(message);\r\n            // if(message.user ===\"admin\") return;\r\n            let messageToSave = {\r\n                ...message,\r\n                incomming:true,\r\n            }\r\n            setMessages([...messages, messageToSave]);\r\n            console.log(\"message\",message);\r\n        });\r\n    }, [setMessages, messages, name])\r\n\r\n    const sendMessage = (event) => {\r\n        event.preventDefault();\r\n        if(message) {\r\n            console.log(\"encode(message)\",encode(message))\r\n            socket.emit(\"sendMessage\", encode(message), ()=>{});\r\n            setMessage(\"\");\r\n        }\r\n    }\r\n    const handleOnKeyPress = (event)=> {\r\n        if(event.key === 'Enter'){\r\n            let messageToSave = {\r\n                text:message,\r\n                user:name,\r\n                incomming:false,\r\n            }\r\n            setMessages([...messages, messageToSave]);\r\n            sendMessage(event)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ChatUi \r\n                username={name}\r\n                value={message}\r\n                messages={messages}\r\n                onChange={(event)=> setMessage(event.target.value)}\r\n                onKeyPress={handleOnKeyPress}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\ChatUi\\ChatUi.js",[],"C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\ChatUi\\Avatar.js",["42"],"import React from 'react'\r\n\r\nexport default function Avatar() {\r\n    return (\r\n        <div className=\"m-1 mr-2 w-12 h-12 relative flex justify-center items-center rounded-full bg-gray-500 text-xl text-white\">\r\n            <img src=\"http://source.unsplash.com/100x100/?girl\" className=\"rounded-full\" />\r\n            <div className=\"absolute right-0 bottom-0 w-3 h-3 rounded-full bg-red-500\"></div>\r\n        </div>\r\n    )\r\n}\r\n","C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\component\\ChatUi\\Message.js",[],"C:\\Users\\Muhammad Bilal\\Desktop\\FrontEnd\\chat-app\\frontend\\src\\shared\\custom-hooks\\useMessageEncryption.js",["43"],{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","severity":1,"message":"49","line":11,"column":12,"nodeType":"50","messageId":"51","endLine":11,"endColumn":16},{"ruleId":"52","severity":1,"message":"53","line":33,"column":8,"nodeType":"54","endLine":33,"endColumn":10,"suggestions":"55"},{"ruleId":"52","severity":1,"message":"56","line":46,"column":8,"nodeType":"54","endLine":46,"endColumn":37,"suggestions":"57"},{"ruleId":"58","severity":1,"message":"59","line":6,"column":13,"nodeType":"60","endLine":6,"endColumn":92},{"ruleId":"48","severity":1,"message":"61","line":1,"column":8,"nodeType":"50","messageId":"51","endLine":1,"endColumn":13},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"no-unused-vars","'room' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'ENDPOINT' and 'location.search'. Either include them or remove the dependency array.","ArrayExpression",["64"],"React Hook useEffect has a missing dependency: 'decode'. Either include it or remove the dependency array.",["65"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'React' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"66","fix":"67"},{"desc":"68","fix":"69"},"Update the dependencies array to be: [ENDPOINT, location.search]",{"range":"70","text":"71"},"Update the dependencies array to be: [setMessages, messages, name, decode]",{"range":"72","text":"73"},[1142,1144],"[ENDPOINT, location.search]",[1544,1573],"[setMessages, messages, name, decode]"]